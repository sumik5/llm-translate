# Changelog

このプロジェクトの主要な変更履歴です。

## [v1.2.0] - 2025-09-18

### 変更

- 日本語を含むPRE要素の判定基準を追加し、通常テキストとコードブロックの識別精度を向上
- Markdownフォーマッターのテーブル処理を厳密化し、テーブルとその後の要素の分離を確実に
- Markdownポストプロセッサーのプログラミング言語検出をスコアリング方式に改善し、Python、JavaScript、TypeScript、Java、Go、Rubyなどの言語をより正確に識別

### 修正

- コードブロックとテーブルが隣接している場合の表示崩れを解消

## [v1.1.2] - 2025-09-17

### 変更

- Plamo翻訳モデル専用のプロンプト形式に対応し、翻訳精度を向上

### 修正

- EPUB内部リンクや空のリンクが翻訳結果に残る問題を解消
- コードブロック内のHTMLタグが適切に除去されず表示される問題を修正
- 連続する空行や孤立したアスタリスクなど、不要なMarkdown要素を自動クリーンアップ

## [v1.1.1] - 2025-09-17

### 修正

- 翻訳結果エリアを編集可能に変更し、翻訳後の微調整や追加編集が可能になりました
- JavaScriptファイルのバージョンを1.1.0に更新しました

## [v1.1.0] - 2025-09-12

### 追加

- チャンクサイズを動的に調整できる増減ボタンを追加し、翻訳単位を柔軟に変更可能に
- Markdown形式の後処理機能を追加し、翻訳後のフォーマットを自動整形
- テキスト保護ユーティリティを追加し、特定のテキスト要素を翻訳から除外する機能を強化

### 変更

- 翻訳処理の精度を向上させ、より自然な翻訳結果を生成
- EPUB/PDFパーサーのテキスト処理を改善し、文書構造をより正確に解析
- Markdownフォーマッターの処理を最適化し、書式の保持を改善

### 修正

- 翻訳中の入力テキストエリアが編集可能になってしまう問題を修正
- 翻訳結果の編集時にプレビューが自動更新されない問題を修正
- 翻訳結果の編集が正しく反映されない問題を修正

## [v1.0.6] - 2025-09-07

### 修正

- EPUBパーサーのスタイル処理を改善し、より正確なレンダリングを実現
- EPUBファイル読み込み時のエラーハンドリングを強化し、安定性を向上
- 画像管理機能の処理を最適化
- DOM操作の効率性を改善

## [v1.0.5] - 2025-09-06

### 追加

- PDF処理に複数のパーサーエンジンを選択可能な機能を追加
- EPUBファイルでも複数のパーサーエンジンを選択できる機能を追加

## [v1.0.4] - 2025-09-06

### 追加

- Markdown形式でのエクスポート機能（画像を自動抽出してZIPファイルとして保存）

### 変更

- エクスポートダイアログのUIを改善（ファイル形式選択とエクスポートタイプの組み合わせ）

## [v1.0.3] - 2025-09-01

### 修正

- EPUB処理の堅牢性向上

## [v1.0.2] - 2025-08-26

### 追加
- 画像をHTMLデータに挿入して表示する機能を追加
- HTMLエクスポート時に形式選択ポップアップを追加
  - 「翻訳のみ」：翻訳結果のみを読みやすいレイアウトで出力
  - 「原文・翻訳対照」：原文と翻訳を左右に並べて表示


### 変更
- デフォルトのチャンクサイズを500から1000に変更
- HTMLエクスポート時の最大幅を両形式とも95%に統一
- エクスポートHTMLのタイトルにファイル名を使用するように改善
- チャンク分割アルゴリズムを改善（コードブロック保持の閾値調整）

### 削除
- 不要な「コピー」ボタンとその関連機能を削除
- エクスポートHTMLから「原文と翻訳文の対照表示」サブタイトルを削除

### 修正
- チャンク数の表示が実際の処理と一致しない問題を改善
- 初回のチャンクだけ二重に翻訳していた問題を改善
- PDFを翻訳する時、プレビューが適切に表示されずエラーになるケースを修正
- PDFをmarkdown化するときに、page番号まで出力されていたので削除

## [v1.0.1] - 2025-08-26

### 変更
- markdown/PDFの内容解析の改善(コードブロック判定を改善)
- JavaScriptをmin化
- ヘッダー構造を新しいレイアウトに更新（翻訳ボタンとHTMLを保存ボタンをヘッダーに配置）

## [v1.0.0] - 2025-08-25

### 追加
- LLM翻訳ツールの初回リリース
- Markdown/EPUB/PDF対応
- 多言語翻訳機能（日本語、英語、中国語、韓国語、スペイン語、フランス語、ドイツ語、ロシア語、ポルトガル語、イタリア語）
- LM Studioのローカルモデルとの連携
- チャンク分割処理による大規模ドキュメント対応
- 翻訳中の中止機能
- Markdownプレビュー機能
- コードブロックの構文ハイライト表示

